<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#141b42" />
  <meta name="description" content="PiWorldBank – One World • One Pi • One Future" />
  <title>PiWorldBank</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./img/logo_192.png" />
  <link rel="apple-touch-icon" href="./img/logo_192.png" />

  <style>
    :root{
      --bg1:#0f1436;
      --bg2:#1a1f4b;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --shadow:0 12px 40px rgba(0,0,0,.35);
      --radius:22px;
      --radius2:16px;
      --accent:#f6c945;
      --accent2:#a78bfa;
      --ok:#4ade80;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Noto Sans",sans-serif;
      background:linear-gradient(155deg,var(--bg1),var(--bg2));
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:22px;
    }

    .wrap{
      width:min(980px, 100%);
      background:rgba(0,0,0,.20);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:14px;
    }

    .brand-pill{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid var(--border);
      font-weight:700;
      letter-spacing:.3px;
      user-select:none;
    }

    .lang{
      display:flex;
      align-items:center;
      gap:8px;
      padding:7px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid var(--border);
    }
    .lang label{
      font-size:12px;
      color:var(--muted);
      font-weight:700;
    }
    .lang select{
      background:transparent;
      color:var(--text);
      border:none;
      outline:none;
      font-weight:800;
      cursor:pointer;
      min-width:160px;
    }
    .lang option{
      background:#10163a;
      color:#fff;
    }

    header{
      text-align:center;
      padding:10px 10px 18px;
    }

    .logo{
      width:64px;height:64px;
      border-radius:18px;
      margin:0 auto 10px;
      display:grid;
      place-items:center;
      font-size:26px;
      font-weight:900;
      color:#231c0b;
      background:linear-gradient(135deg,var(--accent2),var(--accent));
      box-shadow:0 10px 26px rgba(0,0,0,.35);
    }

    h1{
      margin:0;
      font-size:34px;
      letter-spacing:.3px;
    }
    .tagline{
      margin-top:8px;
      font-size:12px;
      color:var(--muted);
      letter-spacing:2.6px;
      text-transform:uppercase;
      font-weight:800;
    }
    .people{
      margin-top:6px;
      font-size:13px;
      color:var(--accent);
      font-weight:900;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:12px;
      padding:4px 10px 0;
    }
    @media (max-width:900px){
      .grid{ grid-template-columns:repeat(2,1fr); }
    }
    @media (max-width:560px){
      .grid{ grid-template-columns:1fr; }
    }

    .tile{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius2);
      padding:14px 14px;
      text-align:left;
      cursor:pointer;
      transition:.12s transform ease, .12s background ease;
      user-select:none;
    }
    .tile:hover{
      transform:translateY(-2px);
      background:var(--card2);
    }

    .t-title{
      font-weight:900;
      font-size:14px;
      margin:0;
    }
    .t-desc{
      margin:6px 0 0;
      color:var(--muted);
      font-size:12px;
      font-weight:700;
    }

    .panel{
      margin:14px 10px 0;
      padding:14px;
      border-radius:var(--radius2);
      border:1px solid var(--border);
      background:rgba(0,0,0,.18);
    }

    .panel h3{
      margin:0 0 6px;
      font-size:13px;
      letter-spacing:.2px;
    }
    .panel p{
      margin:0;
      font-size:12px;
      color:var(--muted);
      font-weight:700;
      line-height:1.45;
    }

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
      margin-top:10px;
      flex-wrap:wrap;
    }

    .btn{
      border:none;
      outline:none;
      cursor:pointer;
      font-weight:900;
      border-radius:999px;
      padding:9px 14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      transition:.12s transform ease, .12s background ease, .12s opacity ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.09); }
    .btn.primary{
      background:linear-gradient(135deg,#f5d56b,#f3b445);
      color:#241b07;
      border:none;
    }
    .btn.primary:hover{ background:linear-gradient(135deg,#ffe08d,#ffbf55); }
    .btn:disabled{
      opacity:.45;
      cursor:not-allowed;
      transform:none;
    }

    .footer{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 10px 4px;
      flex-wrap:wrap;
    }

    .chips{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .chip{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      font-weight:900;
      font-size:12px;
      cursor:pointer;
      user-select:none;
    }
    .chip:hover{ background:rgba(255,255,255,.09); }

    .status{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:12px;
      font-weight:900;
      color:var(--muted);
      user-select:none;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:var(--ok);
      box-shadow:0 0 0 3px rgba(74,222,128,.15);
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background:rgba(10,10,18,.82);
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
      border-radius:999px;
      padding:10px 14px;
      font-weight:900;
      font-size:12px;
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition:.18s opacity ease, .18s transform ease;
      max-width:min(520px, calc(100% - 28px));
      text-align:center;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-4px);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand-pill" id="brandPill">PiWorldBank</div>

      <div class="lang">
        <label id="langLabel" for="langSelect">Language</label>
        <select id="langSelect" aria-label="Language">
          <!-- 40+ languages -->
          <option value="en">English</option>
          <option value="ko">한국어</option>
          <option value="ja">日本語</option>
          <option value="zh-Hans">中文(简体)</option>
          <option value="zh-Hant">中文(繁體)</option>
          <option value="es">Español</option>
          <option value="pt">Português</option>
          <option value="fr">Français</option>
          <option value="de">Deutsch</option>
          <option value="it">Italiano</option>
          <option value="ru">Русский</option>
          <option value="uk">Українська</option>
          <option value="pl">Polski</option>
          <option value="cs">Čeština</option>
          <option value="hu">Magyar</option>
          <option value="ro">Română</option>
          <option value="el">Ελληνικά</option>
          <option value="nl">Nederlands</option>
          <option value="sv">Svenska</option>
          <option value="no">Norsk</option>
          <option value="da">Dansk</option>
          <option value="fi">Suomi</option>
          <option value="tr">Türkçe</option>
          <option value="ar">العربية</option>
          <option value="he">עברית</option>
          <option value="fa">فارسی</option>
          <option value="ur">اردو</option>
          <option value="hi">हिन्दी</option>
          <option value="bn">বাংলা</option>
          <option value="id">Bahasa Indonesia</option>
          <option value="ms">Bahasa Melayu</option>
          <option value="vi">Tiếng Việt</option>
          <option value="th">ไทย</option>
          <option value="tl">Filipino</option>
          <option value="sw">Kiswahili</option>
          <option value="am">አማርኛ</option>
          <option value="ha">Hausa</option>
          <option value="yo">Yorùbá</option>
          <option value="ig">Igbo</option>
          <option value="zu">IsiZulu</option>
          <option value="xh">isiXhosa</option>
        </select>
      </div>
    </div>

    <header>
      <div class="logo" aria-hidden="true">π</div>
      <h1 id="appTitle">PiWorldBank</h1>
      <div class="tagline" id="tagline">ONE WORLD • ONE PI • ONE FUTURE</div>
      <div class="people" id="people">People, not profit</div>
    </header>

    <div class="grid">
      <div class="tile" id="tileUbi" role="button" tabindex="0">
        <p class="t-title" id="t1">UBI</p>
        <p class="t-desc" id="d1">Basic income rewards</p>
      </div>

      <div class="tile" id="tilePay" role="button" tabindex="0">
        <p class="t-title" id="t2">Payments</p>
        <p class="t-desc" id="d2">Pay • Transfer</p>
      </div>

      <div class="tile" id="tileStake" role="button" tabindex="0">
        <p class="t-title" id="t3">Staking</p>
        <p class="t-desc" id="d3">31.4% APY (demo)</p>
      </div>

      <div class="tile" id="tileRewards" role="button" tabindex="0">
        <p class="t-title" id="t4">Rewards</p>
        <p class="t-desc" id="d4">Engagement rewards</p>
      </div>

      <div class="tile" id="tileSupport" role="button" tabindex="0">
        <p class="t-title" id="t5">Support</p>
        <p class="t-desc" id="d5">Help center</p>
      </div>

      <div class="tile" id="tileFaq" role="button" tabindex="0">
        <p class="t-title" id="t6">FAQ</p>
        <p class="t-desc" id="d6">Terms • Policy • Contact</p>
      </div>
    </div>

    <div class="panel">
      <h3 id="installTitle">One-click Install / Launch</h3>
      <p id="installDesc">
        Enabled when “Add to Home Screen” is available in your browser.<br />
        URL: <span id="siteUrl"></span>
      </p>

      <div class="actions">
        <button class="btn" id="openPiBrowserBtn">Open in Pi Browser</button>
        <button class="btn primary" id="installBtn" disabled>Install</button>
      </div>
    </div>

    <div class="footer">
      <div class="chips">
        <div class="chip" id="ytBtn">YouTube</div>
        <div class="chip" id="ttBtn">TikTok</div>
        <div class="chip" id="contactBtn">Contact</div>
      </div>

      <div class="status">
        <span class="dot"></span>
        <span id="statusText">status: OK</span>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    /***********************
     * 1) 링크만 수정하세요
     ***********************/
    const LINKS = {
      youtube: "https://www.youtube.com/@Hyekong2025",
      tiktok: "https://www.tiktok.com/@hyekong2025",
      contact: "mailto:ljw2358@gmail.com"
    };

    /***********************
     * 2) 유틸
     ***********************/
    const $ = (id) => document.getElementById(id);

    function toast(msg){
      const el = $("toast");
      el.textContent = msg;
      el.classList.add("show");
      clearTimeout(toast._t);
      toast._t = setTimeout(()=> el.classList.remove("show"), 2200);
    }

    function isRTL(code){
      return ["ar","he","fa","ur"].includes(code);
    }

    /***********************
     * 3) 다국어(40+)
     ***********************/
    const I18N = {
      "en": { label:"Language", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"People, not profit",
              t:["UBI","Payments","Staking","Rewards","Support","FAQ"],
              d:["Basic income rewards","Pay • Transfer","31.4% APY (demo)","Engagement rewards","Help center","Terms • Policy • Contact"],
              installT:"One-click Install / Launch",
              installD:"Enabled when “Add to Home Screen” is available in your browser.",
              openPi:"Open in Pi Browser", install:"Install", status:"status: OK",
              contact:"Contact", demo:"This is a demo screen."},

      "ko": { label:"언어", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"사람이 먼저, 이윤은 그 다음",
              t:["UBI","결제","스테이킹","리워드","지원","FAQ"],
              d:["기본소득 리워드","결제 • 송금","31.4% APY (데모)","참여 리워드","헬프센터","약관 • 정책 • 문의"],
              installT:"원클릭 설치 / 실행",
              installD:"브라우저에서 ‘홈 화면에 추가’가 가능할 때 활성화됩니다.",
              openPi:"Pi Browser로 열기", install:"설치", status:"상태: OK",
              contact:"문의", demo:"데모 화면입니다."},

      "ja": { label:"言語", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"人を優先、利益は後",
              t:["UBI","決済","ステーキング","報酬","サポート","FAQ"],
              d:["ベーシックインカム報酬","支払い • 送金","31.4% APY（デモ）","参加報酬","ヘルプセンター","規約 • ポリシー • 連絡"],
              installT:"ワンクリック インストール / 起動",
              installD:"ブラウザで「ホーム画面に追加」が可能な場合に有効になります。",
              openPi:"Pi Browserで開く", install:"インストール", status:"status: OK",
              contact:"連絡", demo:"デモ画面です。"},

      "zh-Hans": { label:"语言", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"以人为本，而非利润",
              t:["UBI","支付","质押","奖励","支持","FAQ"],
              d:["基本收入奖励","支付 • 转账","31.4% APY（演示）","参与奖励","帮助中心","条款 • 政策 • 联系"],
              installT:"一键安装 / 启动",
              installD:"当浏览器支持“添加到主屏幕”时启用。",
              openPi:"在 Pi Browser 打开", install:"安装", status:"状态：OK",
              contact:"联系", demo:"这是演示界面。"},

      "zh-Hant": { label:"語言", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"以人為本，而非利潤",
              t:["UBI","支付","質押","獎勵","支援","FAQ"],
              d:["基本收入獎勵","支付 • 轉帳","31.4% APY（示範）","參與獎勵","幫助中心","條款 • 政策 • 聯絡"],
              installT:"一鍵安裝 / 啟動",
              installD:"當瀏覽器支援「加入主畫面」時啟用。",
              openPi:"用 Pi Browser 開啟", install:"安裝", status:"狀態：OK",
              contact:"聯絡", demo:"這是示範畫面。"},

      "es": { label:"Idioma", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Personas, no lucro",
              t:["UBI","Pagos","Staking","Recompensas","Soporte","FAQ"],
              d:["Recompensas de ingreso básico","Pagar • Transferir","31.4% APY (demo)","Recompensas por participación","Centro de ayuda","Términos • Política • Contacto"],
              installT:"Instalación / Inicio con un clic",
              installD:"Se habilita cuando “Añadir a la pantalla de inicio” está disponible.",
              openPi:"Abrir en Pi Browser", install:"Instalar", status:"estado: OK",
              contact:"Contacto", demo:"Pantalla de demostración."},

      "pt": { label:"Idioma", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Pessoas, não lucro",
              t:["UBI","Pagamentos","Staking","Recompensas","Suporte","FAQ"],
              d:["Recompensas de renda básica","Pagar • Transferir","31.4% APY (demo)","Recompensas de engajamento","Central de ajuda","Termos • Política • Contato"],
              installT:"Instalar / Abrir com 1 clique",
              installD:"Ativado quando “Adicionar à tela inicial” estiver disponível.",
              openPi:"Abrir no Pi Browser", install:"Instalar", status:"status: OK",
              contact:"Contato", demo:"Tela de demonstração."},

      "fr": { label:"Langue", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Les personnes avant le profit",
              t:["UBI","Paiements","Staking","Récompenses","Support","FAQ"],
              d:["Récompenses de revenu de base","Payer • Transférer","31.4% APY (démo)","Récompenses d'engagement","Centre d'aide","Conditions • Politique • Contact"],
              installT:"Installation / Lancement en 1 clic",
              installD:"Activé lorsque « Ajouter à l'écran d'accueil » est disponible.",
              openPi:"Ouvrir dans Pi Browser", install:"Installer", status:"statut : OK",
              contact:"Contact", demo:"Écran de démonstration."},

      "de": { label:"Sprache", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Menschen statt Profit",
              t:["UBI","Zahlungen","Staking","Belohnungen","Support","FAQ"],
              d:["Grund einkommen-Belohnungen","Zahlen • Überweisen","31.4% APY (Demo)","Engagement-Belohnungen","Hilfe-Center","AGB • Richtlinie • Kontakt"],
              installT:"One-Click Installieren / Starten",
              installD:"Aktiviert, wenn „Zum Startbildschirm hinzufügen“ verfügbar ist.",
              openPi:"In Pi Browser öffnen", install:"Installieren", status:"Status: OK",
              contact:"Kontakt", demo:"Demo-Bildschirm."},

      "it": { label:"Lingua", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Persone, non profitto",
              t:["UBI","Pagamenti","Staking","Ricompense","Supporto","FAQ"],
              d:["Ricompense di reddito di base","Paga • Trasferisci","31.4% APY (demo)","Ricompense di coinvolgimento","Centro assistenza","Termini • Policy • Contatto"],
              installT:"Installazione / Avvio con 1 clic",
              installD:"Attivo quando “Aggiungi alla schermata Home” è disponibile.",
              openPi:"Apri in Pi Browser", install:"Installa", status:"stato: OK",
              contact:"Contatto", demo:"Schermata demo."},

      "ru": { label:"Язык", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Люди важнее прибыли",
              t:["UBI","Платежи","Стейкинг","Награды","Поддержка","FAQ"],
              d:["Награды базового дохода","Оплата • Перевод","31.4% APY (демо)","Награды за активность","Центр помощи","Условия • Политика • Контакт"],
              installT:"Установка / запуск в один клик",
              installD:"Включается, когда доступно «Добавить на главный экран».",
              openPi:"Открыть в Pi Browser", install:"Установить", status:"статус: OK",
              contact:"Контакт", demo:"Демо-экран."},

      "uk": { label:"Мова", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Люди понад прибуток",
              t:["UBI","Платежі","Стейкінг","Винагороди","Підтримка","FAQ"],
              d:["Винагороди базового доходу","Оплата • Переказ","31.4% APY (демо)","Винагороди за активність","Центр допомоги","Умови • Політика • Контакт"],
              installT:"Встановлення / запуск одним кліком",
              installD:"Увімкнеться, коли доступно «Додати на головний екран».",
              openPi:"Відкрити в Pi Browser", install:"Встановити", status:"статус: OK",
              contact:"Контакт", demo:"Демо-екран."},

      "pl": { label:"Język", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Ludzie, nie zysk",
              t:["UBI","Płatności","Staking","Nagrody","Wsparcie","FAQ"],
              d:["Nagrody dochodu podstawowego","Płać • Przelew","31.4% APY (demo)","Nagrody za aktywność","Centrum pomocy","Warunki • Polityka • Kontakt"],
              installT:"Instalacja / Uruchomienie 1 kliknięciem",
              installD:"Włącza się, gdy dostępne jest „Dodaj do ekranu głównego”.",
              openPi:"Otwórz w Pi Browser", install:"Zainstaluj", status:"status: OK",
              contact:"Kontakt", demo:"Ekran demonstracyjny."},

      "cs": { label:"Jazyk", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Lidé před ziskem",
              t:["UBI","Platby","Staking","Odměny","Podpora","FAQ"],
              d:["Odměny základního příjmu","Platba • Převod","31.4% APY (demo)","Odměny za aktivitu","Centrum nápovědy","Podmínky • Zásady • Kontakt"],
              installT:"Instalace / Spuštění jedním kliknutím",
              installD:"Aktivuje se, když je k dispozici „Přidat na plochu“.",
              openPi:"Otevřít v Pi Browser", install:"Instalovat", status:"status: OK",
              contact:"Kontakt", demo:"Demo obrazovka."},

      "hu": { label:"Nyelv", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Emberek, nem profit",
              t:["UBI","Fizetések","Staking","Jutalmak","Támogatás","GYIK"],
              d:["Alapjövedelem jutalmak","Fizetés • Átutalás","31.4% APY (demo)","Részvételi jutalmak","Súgóközpont","Feltételek • Szabályzat • Kapcsolat"],
              installT:"Egykattintásos telepítés / indítás",
              installD:"Akkor aktív, ha elérhető a „Hozzáadás a kezdőképernyőhöz”.",
              openPi:"Megnyitás Pi Browserben", install:"Telepítés", status:"állapot: OK",
              contact:"Kapcsolat", demo:"Demo képernyő."},

      "ro": { label:"Limbă", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Oamenii, nu profitul",
              t:["UBI","Plăți","Staking","Recompense","Suport","FAQ"],
              d:["Recompense venit de bază","Plătește • Transferă","31.4% APY (demo)","Recompense de implicare","Centru de ajutor","Termeni • Politică • Contact"],
              installT:"Instalare / Lansare cu un click",
              installD:"Activat când „Adaugă pe ecranul principal” este disponibil.",
              openPi:"Deschide în Pi Browser", install:"Instalează", status:"status: OK",
              contact:"Contact", demo:"Ecran demo."},

      "el": { label:"Γλώσσα", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Άνθρωποι, όχι κέρδος",
              t:["UBI","Πληρωμές","Staking","Ανταμοιβές","Υποστήριξη","FAQ"],
              d:["Ανταμοιβές βασικού εισοδήματος","Πληρωμή • Μεταφορά","31.4% APY (demo)","Ανταμοιβές συμμετοχής","Κέντρο βοήθειας","Όροι • Πολιτική • Επικοινωνία"],
              installT:"Εγκατάσταση / Εκκίνηση με ένα κλικ",
              installD:"Ενεργοποιείται όταν είναι διαθέσιμο το «Προσθήκη στην αρχική οθόνη».",
              openPi:"Άνοιγμα στο Pi Browser", install:"Εγκατάσταση", status:"κατάσταση: OK",
              contact:"Επικοινωνία", demo:"Οθόνη επίδειξης."},

      "nl": { label:"Taal", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Mensen, niet winst",
              t:["UBI","Betalingen","Staking","Beloningen","Support","FAQ"],
              d:["Basisinkomen-beloningen","Betalen • Overmaken","31.4% APY (demo)","Betrokkenheidsbeloningen","Helpcentrum","Voorwaarden • Beleid • Contact"],
              installT:"Installeren / Starten met 1 klik",
              installD:"Actief wanneer ‘Toevoegen aan startscherm’ beschikbaar is.",
              openPi:"Openen in Pi Browser", install:"Installeren", status:"status: OK",
              contact:"Contact", demo:"Demo-scherm."},

      "sv": { label:"Språk", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Människor, inte vinst",
              t:["UBI","Betalningar","Staking","Belöningar","Support","FAQ"],
              d:["Grundinkomst-belöningar","Betala • Överför","31.4% APY (demo)","Engagemangsbelöningar","Hjälpcenter","Villkor • Policy • Kontakt"],
              installT:"Installera / Starta med ett klick",
              installD:"Aktiveras när “Lägg till på hemskärmen” är tillgängligt.",
              openPi:"Öppna i Pi Browser", install:"Installera", status:"status: OK",
              contact:"Kontakt", demo:"Demovy."},

      "no": { label:"Språk", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Mennesker, ikke profitt",
              t:["UBI","Betalinger","Staking","Belønninger","Support","FAQ"],
              d:["Grunninntekt-belønninger","Betal • Overfør","31.4% APY (demo)","Engasjementsbelønninger","Hjelpesenter","Vilkår • Policy • Kontakt"],
              installT:"Installer / Start med ett klikk",
              installD:"Aktiveres når «Legg til på startskjerm» er tilgjengelig.",
              openPi:"Åpne i Pi Browser", install:"Installer", status:"status: OK",
              contact:"Kontakt", demo:"Demo-skjerm."},

      "da": { label:"Sprog", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Mennesker, ikke profit",
              t:["UBI","Betalinger","Staking","Belønninger","Support","FAQ"],
              d:["Basisindkomst-belønninger","Betal • Overfør","31.4% APY (demo)","Engagement-belønninger","Hjælpecenter","Vilkår • Politik • Kontakt"],
              installT:"Installer / Start med ét klik",
              installD:"Aktiveres når “Føj til startskærm” er tilgængelig.",
              openPi:"Åbn i Pi Browser", install:"Installer", status:"status: OK",
              contact:"Kontakt", demo:"Demo-skærm."},

      "fi": { label:"Kieli", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Ihmiset, ei voitto",
              t:["UBI","Maksut","Staking","Palkinnot","Tuki","UKK"],
              d:["Perustulopalkinnot","Maksa • Siirrä","31.4% APY (demo)","Osallistumispalkinnot","Ohjekeskus","Ehdot • Käytäntö • Yhteys"],
              installT:"Asenna / Käynnistä yhdellä klikkauksella",
              installD:"Aktivoituu, kun “Lisää aloitusnäyttöön” on käytettävissä.",
              openPi:"Avaa Pi Browserissa", install:"Asenna", status:"tila: OK",
              contact:"Yhteys", demo:"Demo-näkymä."},

      "tr": { label:"Dil", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"İnsanlar, kâr değil",
              t:["UBI","Ödemeler","Staking","Ödüller","Destek","SSS"],
              d:["Temel gelir ödülleri","Öde • Transfer","31.4% APY (demo)","Katılım ödülleri","Yardım merkezi","Şartlar • Politika • İletişim"],
              installT:"Tek tıkla Kur / Başlat",
              installD:"“Ana ekrana ekle” kullanılabilir olduğunda etkinleşir.",
              openPi:"Pi Browser’da Aç", install:"Yükle", status:"durum: OK",
              contact:"İletişim", demo:"Demo ekranı."},

      "ar": { label:"اللغة", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"الناس أولاً لا الربح",
              t:["UBI","المدفوعات","التخزين","المكافآت","الدعم","الأسئلة"],
              d:["مكافآت الدخل الأساسي","ادفع • حوّل","31.4% APY (تجريبي)","مكافآت المشاركة","مركز المساعدة","الشروط • السياسة • تواصل"],
              installT:"تثبيت / تشغيل بنقرة واحدة",
              installD:"يُفعّل عندما يتوفر خيار «إضافة إلى الشاشة الرئيسية».",
              openPi:"افتح في Pi Browser", install:"تثبيت", status:"الحالة: OK",
              contact:"تواصل", demo:"هذه شاشة تجريبية."},

      "he": { label:"שפה", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"אנשים לפני רווח",
              t:["UBI","תשלומים","סטייקינג","תגמולים","תמיכה","שאלות"],
              d:["תגמולי הכנסה בסיסית","שלם • העבר","31.4% APY (דמו)","תגמולי מעורבות","מרכז עזרה","תנאים • מדיניות • יצירת קשר"],
              installT:"התקנה / הפעלה בלחיצה אחת",
              installD:"מופעל כאשר “הוסף למסך הבית” זמין בדפדפן.",
              openPi:"פתח ב-Pi Browser", install:"התקן", status:"סטטוס: OK",
              contact:"יצירת קשר", demo:"מסך הדגמה."},

      "fa": { label:"زبان", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"انسان ها، نه سود",
              t:["UBI","پرداخت ها","استیکینگ","پاداش ها","پشتیبانی","FAQ"],
              d:["پاداش درآمد پایه","پرداخت • انتقال","31.4% APY (دمو)","پاداش مشارکت","مرکز کمک","شرایط • سیاست • تماس"],
              installT:"نصب / اجرا با یک کلیک",
              installD:"وقتی «افزودن به صفحه اصلی» در مرورگر موجود باشد فعال می شود.",
              openPi:"باز کردن در Pi Browser", install:"نصب", status:"وضعیت: OK",
              contact:"تماس", demo:"صفحهٔ دمو."},

      "ur": { label:"زبان", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"لوگ، منافع نہیں",
              t:["UBI","ادائیگیاں","اسٹیکنگ","انعامات","سپورٹ","FAQ"],
              d:["بنیادی آمدن انعامات","ادائیگی • منتقلی","31.4% APY (ڈیمو)","شمولیت انعامات","ہیلپ سینٹر","شرائط • پالیسی • رابطہ"],
              installT:"ایک کلک انسٹال / لانچ",
              installD:"جب ‘ہوم اسکرین پر شامل کریں’ دستیاب ہو تو فعال ہوتا ہے۔",
              openPi:"Pi Browser میں کھولیں", install:"انسٹال", status:"اسٹیٹس: OK",
              contact:"رابطہ", demo:"یہ ڈیمو اسکرین ہے۔"},

      "hi": { label:"भाषा", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"लोग पहले, लाभ नहीं",
              t:["UBI","भुगतान","स्टेकिंग","रिवॉर्ड","सपोर्ट","FAQ"],
              d:["बेसिक इनकम रिवॉर्ड","भुगतान • ट्रांसफर","31.4% APY (डेमो)","एंगेजमेंट रिवॉर्ड","हेल्प सेंटर","शर्तें • नीति • संपर्क"],
              installT:"वन-क्लिक इंस्टॉल / लॉन्च",
              installD:"जब ‘होम स्क्रीन पर जोड़ें’ उपलब्ध हो तब सक्रिय होता है।",
              openPi:"Pi Browser में खोलें", install:"इंस्टॉल", status:"स्थिति: OK",
              contact:"संपर्क", demo:"डेमो स्क्रीन।"},

      "bn": { label:"ভাষা", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"মানুষ আগে, লাভ নয়",
              t:["UBI","পেমেন্ট","স্টেকিং","রিওয়ার্ড","সাপোর্ট","FAQ"],
              d:["বেসিক ইনকাম রিওয়ার্ড","পে • ট্রান্সফার","31.4% APY (ডেমো)","এনগেজমেন্ট রিওয়ার্ড","হেল্প সেন্টার","টার্মস • পলিসি • কন্ট্যাক্ট"],
              installT:"ওয়ান-ক্লিক ইনস্টল / লঞ্চ",
              installD:"ব্রাউজারে ‘হোম স্ক্রিনে যোগ করুন’ উপলব্ধ হলে সক্রিয় হবে।",
              openPi:"Pi Browser এ খুলুন", install:"ইনস্টল", status:"স্ট্যাটাস: OK",
              contact:"যোগাযোগ", demo:"ডেমো স্ক্রিন।"},

      "id": { label:"Bahasa", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Manusia, bukan profit",
              t:["UBI","Pembayaran","Staking","Hadiah","Dukungan","FAQ"],
              d:["Hadiah pendapatan dasar","Bayar • Transfer","31.4% APY (demo)","Hadiah keterlibatan","Pusat bantuan","S&K • Kebijakan • Kontak"],
              installT:"Instal / Jalankan 1 klik",
              installD:"Aktif saat “Tambahkan ke layar utama” tersedia di browser.",
              openPi:"Buka di Pi Browser", install:"Instal", status:"status: OK",
              contact:"Kontak", demo:"Layar demo."},

      "ms": { label:"Bahasa", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Manusia, bukan untung",
              t:["UBI","Pembayaran","Staking","Ganjaran","Sokongan","FAQ"],
              d:["Ganjaran pendapatan asas","Bayar • Pindah","31.4% APY (demo)","Ganjaran penglibatan","Pusat bantuan","Terma • Polisi • Hubungi"],
              installT:"Pasang / Lancar 1 klik",
              installD:"Aktif apabila “Tambah ke skrin utama” tersedia.",
              openPi:"Buka di Pi Browser", install:"Pasang", status:"status: OK",
              contact:"Hubungi", demo:"Skrin demo."},

      "vi": { label:"Ngôn ngữ", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Con người, không lợi nhuận",
              t:["UBI","Thanh toán","Staking","Phần thưởng","Hỗ trợ","FAQ"],
              d:["Phần thưởng thu nhập cơ bản","Trả • Chuyển","31.4% APY (demo)","Phần thưởng tương tác","Trung tâm trợ giúp","Điều khoản • Chính sách • Liên hệ"],
              installT:"Cài / Mở bằng 1 chạm",
              installD:"Kích hoạt khi trình duyệt hỗ trợ “Thêm vào Màn hình chính”.",
              openPi:"Mở bằng Pi Browser", install:"Cài đặt", status:"trạng thái: OK",
              contact:"Liên hệ", demo:"Màn hình demo."},

      "th": { label:"ภาษา", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"ผู้คนมาก่อนกำไร",
              t:["UBI","การชำระเงิน","สเตกกิ้ง","รางวัล","สนับสนุน","FAQ"],
              d:["รางวัลรายได้พื้นฐาน","จ่าย • โอน","31.4% APY (เดโม)","รางวัลการมีส่วนร่วม","ศูนย์ช่วยเหลือ","เงื่อนไข • นโยบาย • ติดต่อ"],
              installT:"ติดตั้ง / เปิดใช้งานด้วยคลิกเดียว",
              installD:"เปิดใช้เมื่อเบราว์เซอร์รองรับ “เพิ่มไปยังหน้าจอหลัก”",
              openPi:"เปิดใน Pi Browser", install:"ติดตั้ง", status:"สถานะ: OK",
              contact:"ติดต่อ", demo:"หน้าจอเดโม"},

      "tl": { label:"Wika", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Tao, hindi tubo",
              t:["UBI","Bayad","Staking","Gantimpala","Suporta","FAQ"],
              d:["Gantimpala sa basic income","Magbayad • Maglipat","31.4% APY (demo)","Gantimpala sa pakikilahok","Help center","Terms • Policy • Contact"],
              installT:"One-click Install / Launch",
              installD:"Gagana kapag available ang “Add to Home Screen” sa browser.",
              openPi:"Buksan sa Pi Browser", install:"Install", status:"status: OK",
              contact:"Contact", demo:"Demo screen."},

      "sw": { label:"Lugha", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Watu, si faida",
              t:["UBI","Malipo","Staking","Zawadi","Msaada","Maswali"],
              d:["Zawadi za kipato cha msingi","Lipa • Hamisha","31.4% APY (demo)","Zawadi za ushiriki","Kituo cha msaada","Masharti • Sera • Mawasiliano"],
              installT:"Sakinisha / Anzisha kwa mbofyo mmoja",
              installD:"Huwashwa wakati “Ongeza kwenye Skrini ya Nyumbani” inapatikana.",
              openPi:"Fungua kwenye Pi Browser", install:"Sakinisha", status:"hali: OK",
              contact:"Wasiliana", demo:"Skrini ya demo."},

      "am": { label:"ቋንቋ", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"ሰዎች እንጂ ትርፍ አይደለም",
              t:["UBI","ክፍያ","Staking","ሽልማቶች","ድጋፍ","FAQ"],
              d:["የመሰረታዊ ገቢ ሽልማት","ክፈል • ላክ","31.4% APY (demo)","የተሳትፎ ሽልማት","የእገዛ ማዕከል","መመሪያ • ፖሊሲ • እውቂያ"],
              installT:"በአንድ ጠቅ መጫን / መክፈት",
              installD:"በአሳሽ ላይ “Add to Home Screen” ሲኖር ይሰራል።",
              openPi:"በPi Browser ክፈት", install:"ጫን", status:"ሁኔታ: OK",
              contact:"እውቂያ", demo:"የዲሞ ገጽ።"},

      "ha": { label:"Harshe", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Mutane, ba riba ba",
              t:["UBI","Biya","Staking","Kyaututtuka","Tallafi","FAQ"],
              d:["Kyaututtukan kudin shiga na asali","Biya • Canja","31.4% APY (demo)","Kyaututtukan shiga","Cibiyar taimako","Sharuɗɗa • Manufofi • Tuntuɓa"],
              installT:"Shigar / Kaddamar da danna ɗaya",
              installD:"Yana aiki idan “Add to Home Screen” yana samuwa a browser.",
              openPi:"Buɗe a Pi Browser", install:"Shigar", status:"status: OK",
              contact:"Tuntuɓa", demo:"Allon demo."},

      "yo": { label:"Èdè", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Àwọn ènìyàn, kì í ṣe èrè",
              t:["UBI","Ìsanwó","Staking","Ẹ̀bùn","Ìtìlẹ́yìn","FAQ"],
              d:["Ẹ̀bùn owó ìbámu","San • Rán","31.4% APY (demo)","Ẹ̀bùn ìfarahàn","Ile ìrànlọ́wọ́","Àwọn àdéhùn • Ilànà • Ìbáṣepọ̀"],
              installT:"Fifi sori / Ṣíṣe pẹ̀lú ìtẹ̀ ẹyọkan",
              installD:"Ó ṣiṣẹ́ nígbà tí “Add to Home Screen” bá wà.",
              openPi:"Ṣí ni Pi Browser", install:"Fì sílẹ̀", status:"status: OK",
              contact:"Ìbáṣepọ̀", demo:"Demo."},

      "ig": { label:"Asụsụ", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Ndị mmadụ, ọ bụghị uru",
              t:["UBI","Ụgwọ","Staking","Nrite","Nkwado","FAQ"],
              d:["Nrite ego bụ isi","Kwụọ • Zipu","31.4% APY (demo)","Nrite mmekọrịta","Ebe enyemaka","Usoro • Iwu • Kpọtụrụ"],
              installT:"Wụnye / Mepee n’otu pịa",
              installD:"Na-arụ ọrụ mgbe “Add to Home Screen” dị.",
              openPi:"Mepee na Pi Browser", install:"Wụnye", status:"status: OK",
              contact:"Kpọtụrụ", demo:"Demo."},

      "zu": { label:"Ulimi", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Abantu, hhayi inzuzo",
              t:["UBI","Izinkokhelo","Staking","Imiklomelo","Usizo","FAQ"],
              d:["Imiklomelo yomholo oyisisekelo","Khokha • Dlulisa","31.4% APY (demo)","Imiklomelo yokubamba iqhaza","Isikhungo sosizo","Imigomo • Inqubomgomo • Xhumana"],
              installT:"Faka / Vula ngokuchofoza kanye",
              installD:"Kuyasebenza uma “Add to Home Screen” itholakala.",
              openPi:"Vula ku Pi Browser", install:"Faka", status:"isimo: OK",
              contact:"Xhumana", demo:"Isikrini sedemo."},

      "xh": { label:"Ulwimi", tag:"ONE WORLD • ONE PI • ONE FUTURE", ppl:"Abantu, hayi inzuzo",
              t:["UBI","Iintlawulo","Staking","Imivuzo","Inkxaso","FAQ"],
              d:["Imivuzo yengeniso esisiseko","Hlawula • Thumela","31.4% APY (demo)","Imivuzo yokuzibandakanya","Iziko loncedo","Imiqathango • Umgaqo-nkqubo • Qhagamshelana"],
              installT:"Faka / Qalisa ngokucofa kube kanye",
              installD:"Iyasebenza xa “Add to Home Screen” ikhona.",
              openPi:"Vula kwi Pi Browser", install:"Faka", status:"isimo: OK",
              contact:"Qhagamshelana", demo:"Isikrini sedemo."}
    };

    /***********************
     * 4) 언어 적용
     ***********************/
    function applyLang(code){
      const t = I18N[code] || I18N.en;

      // rtl/ltr
      document.documentElement.lang = code.startsWith("zh") ? "zh" : code;
      document.documentElement.dir = isRTL(code) ? "rtl" : "ltr";

      $("langLabel").textContent = t.label;

      $("tagline").textContent = t.tag;
      $("people").textContent = t.ppl;

      $("t1").textContent = t.t[0]; $("d1").textContent = t.d[0];
      $("t2").textContent = t.t[1]; $("d2").textContent = t.d[1];
      $("t3").textContent = t.t[2]; $("d3").textContent = t.d[2];
      $("t4").textContent = t.t[3]; $("d4").textContent = t.d[3];
      $("t5").textContent = t.t[4]; $("d5").textContent = t.d[4];
      $("t6").textContent = t.t[5]; $("d6").textContent = t.d[5];

      $("installTitle").textContent = t.installT;
      $("installDesc").innerHTML = `${t.installD}<br/>URL: <span id="siteUrl"></span>`;
      $("siteUrl").textContent = location.href;

      $("openPiBrowserBtn").textContent = t.openPi;
      $("installBtn").textContent = t.install;
      $("statusText").textContent = t.status;
      $("contactBtn").textContent = t.contact;
    }

    /***********************
     * 5) 기본 언어 선택(브라우저 기반)
     ***********************/
    function pickDefaultLang(){
      const saved = localStorage.getItem("pwb_lang");
      if(saved && I18N[saved]) return saved;

      const nav = (navigator.language || "en").toLowerCase();
      if(nav.startsWith("ko")) return "ko";
      if(nav.startsWith("ja")) return "ja";
      if(nav.startsWith("zh")) return nav.includes("tw") || nav.includes("hk") ? "zh-Hant" : "zh-Hans";

      // 가장 많이 쓰는 언어들 매핑
      const short = nav.split("-")[0];
      if(I18N[short]) return short;

      return "en";
    }

    /***********************
     * 6) 카드/버튼 동작
     ***********************/
    function openLink(url){
      try{ window.open(url, "_blank", "noopener,noreferrer"); }
      catch(e){ location.href = url; }
    }

    function setupClickable(el, fn){
      el.addEventListener("click", fn);
      el.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); fn(); }});
    }

    // 카드 클릭: 데모 토스트
    const demoToast = ()=> toast((I18N[$("langSelect").value] || I18N.en).demo);

    ["tileUbi","tilePay","tileStake","tileRewards","tileSupport","tileFaq"].forEach(id=>{
      setupClickable($(id), demoToast);
    });

    setupClickable($("ytBtn"), ()=> openLink(LINKS.youtube));
    setupClickable($("ttBtn"), ()=> openLink(LINKS.tiktok));
    setupClickable($("contactBtn"), ()=> openLink(LINKS.contact));

    // Pi Browser 열기
    $("openPiBrowserBtn").addEventListener("click", ()=>{
      // 1) pi:// 시도 (일부 환경에서만 동작)
      const piUrl = "pi://" + location.host + location.pathname;
      try{
        location.href = piUrl;
        toast("Trying to open Pi Browser…");
        // 2) fallback: 현재 URL 새탭
        setTimeout(()=> openLink(location.href), 900);
      }catch(e){
        openLink(location.href);
      }
    });

    /***********************
     * 7) PWA 설치(원클릭)
     ***********************/
    let deferredPrompt = null;

    window.addEventListener("beforeinstallprompt", (e)=>{
      e.preventDefault();
      deferredPrompt = e;
      $("installBtn").disabled = false;
      toast("Install is ready.");
    });

    $("installBtn").addEventListener("click", async ()=>{
      if(!deferredPrompt){
        toast("Install not available on this device/browser.");
        return;
      }
      deferredPrompt.prompt();
      const choice = await deferredPrompt.userChoice;
      deferredPrompt = null;
      $("installBtn").disabled = true;
      toast(choice.outcome === "accepted" ? "Installed." : "Canceled.");
    });

    /***********************
     * 8) Service Worker 등록
     * (repo에 service-worker.js가 있으면 자동 등록)
     ***********************/
    (async ()=>{
      if("serviceWorker" in navigator){
        try{
          await navigator.serviceWorker.register("./service-worker.js");
        }catch(e){
          // SW가 없어도 앱은 동작해야 함
          // toast("SW not registered.");
        }
      }
    })();

    /***********************
     * 9) 초기화
     ***********************/
    const defaultLang = pickDefaultLang();
    $("langSelect").value = defaultLang;
    applyLang(defaultLang);

    $("langSelect").addEventListener("change", (e)=>{
      const lang = e.target.value;
      localStorage.setItem("pwb_lang", lang);
      applyLang(lang);
      toast("Language updated.");
    });

    // URL 표시
    $("siteUrl").textContent = location.href;
  </script>
</body>
</html>
